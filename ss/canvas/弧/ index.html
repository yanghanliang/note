<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <canvas id="cavsElem">
        你的浏览器不支持canvas，请升级浏览器
    </canvas>
    <script>
        (function(){
            var canvas = document.getElementById('cavsElem')
            var ctx = canvas.getContext('2d')
            var value = Math.PI/180
            var startArc = 0
            var endArc = 120
            var step = 1

            canvas.width = 600
            canvas.height = 600
            canvas.style.border = '1px solid red'

            // 设置渐变
            var grd=ctx.createLinearGradient(0,0,170,0)
            grd.addColorStop(0,"#ff4343")
            grd.addColorStop(1,"#43ffe1")
    
            ctx.strokeStyle = grd
            ctx.lineWidth = 6

            //绘制120度的弧线，从弧线起点开始到弧线终点
            // ctx.beginPath()
           

            var clearId = setInterval(function() {
                if(step >= 360) {
                    clearInterval(clearId)
                    return false
                }
                ctx.clearRect(0, 0, 800, 800) // 在给定的矩形内清除指定的像素
                ctx.beginPath() // 开始新的一条路径
                ctx.arc(100, 400, 100, 0*value, step*value)
                ctx.stroke()
                step++
                
                // 写字
                ctx.fillStyle = '#1d89d5'
                ctx.font= 80 + 'px Microsoft Yahei'
                ctx.textAlign='center'
                ctx.fillText(step, 100, 100)
                ctx.strokeText(step, 200, 200) // 加粗
            }, 10)
        })()
    </script>
</body>
</html>